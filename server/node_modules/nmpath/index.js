
const fs = require('fs');
const path = require('path');
const caller = require('caller');

const fn = (destFolder) => {
    if (!destFolder) {
        const pathToCaller = caller();
        destFolder = path.resolve(pathToCaller, '..');
    }

    let p = destFolder;

    while (p !== '/') {
        const dest = p + '/node_modules';
        if (fs.existsSync(dest)) {
            return dest;
        }
        p = path.resolve(p, '..');
    }
};

module.exports = fn;
